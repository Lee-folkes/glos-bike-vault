const n=document.getElementById("registerBikeModal"),r=document.getElementById("registerBikeModalLabel"),i=document.getElementById("registerBikeForm"),s=document.getElementById("formMethod"),a=i.getAttribute("action"),d=document.getElementById("BikeSubmitBtn"),u=["nickname","brand","model","type","mpn","wheel_size","colour","num_gears","brake_type","suspension","gender","age_group"];function m(){r.textContent="Register New Bike",d.textContent="Register Bike",i.action=a,s.value="POST",i.reset(),n.removeAttribute("inert")}function k(e,t){r.textContent="Edit Bike",d.textContent="Update Bike",i.action=a+"/"+e,s.value="PUT",u.forEach(function(o){const c=i.querySelector('[name="'+o+'"]');c&&(c.value=t[o]||"")}),n.removeAttribute("inert")}function l(){n.setAttribute("inert","")}document.getElementById("registerBikeBtn").addEventListener("click",m);document.getElementById("closeModalBtn").addEventListener("click",l);n.addEventListener("click",function(e){e.target===n&&l()});document.querySelectorAll(".action-edit").forEach(function(e){e.addEventListener("click",function(){const t=this.getAttribute("data-bike-id"),o=JSON.parse(this.getAttribute("data-bike"));k(t,o)})});function g(e){const t=this.closest(".bike-card").querySelector(".bike-card-status-menu");t&&(t.style.visibility="visible",t.style.opacity="1")}document.querySelectorAll(".action-status").forEach(function(e){e.addEventListener("click",g)});document.addEventListener("click",function(e){!e.target.closest(".bike-card-status-menu")&&!e.target.closest(".action-status")&&document.querySelectorAll(".bike-card-status-menu").forEach(function(t){t.style.visibility="hidden",t.style.opacity="0"})});
